<!DOCTYPE html>
<!--
Template Name: Chevesic
Author: <a href="http://www.os-templates.com/">OS Templates</a>
Author URI: http://www.os-templates.com/
Licence: Free to use under our free template licence terms
Licence URI: http://www.os-templates.com/template-terms
-->
<html lang="">
<!-- To declare your language - read more here: https://www.w3.org/International/questions/qa-html-language-declarations -->
<head>
<title>LEAGUE MANAGER</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link href="layout/styles/layout.css" rel="stylesheet" type="text/css" media="all">
<script type="text/javascript">
  function add_item(){
        // pre_set 에 있는 내용을 읽어와서 처리..
        var div = document.createElement('div');
        div.innerHTML = document.getElementById('game_add_set').innerHTML;
        document.getElementById('game_input_field').appendChild(div);
    }
 
  function remove_item(obj){
      // obj.parentNode 를 이용하여 삭제
      document.getElementById('field').removeChild(obj.parentNode);
  }

  
  function saveCompetition()
  {
    var xhttp = new XMLHttpRequest();
    var url = "http://52.79.188.98:3000/competition/add";
    url += "?title=" + competitonFrm.Title.value;
    var StartDate = competitonFrm.StartDate.value;
    url += "&start_date=" + StartDate;
    var EndDate = competitonFrm.EndDate.value;
    url += "&end_date=" + EndDate;
    url += "&phone=" + competitonFrm.Phone.value;
    url += "&location=" + competitonFrm.Place.value;
    xhttp.open("get", url, false);
    xhttp.setRequestHeader("Content-type", "application/json");
    xhttp.send();
    
    if (xhttp.readyState === 4) {
        if (xhttp.status === 200) {
          var jsonResponse = JSON.parse(xhttp.responseText); 
          // alert(xhttp.responseText);
          window.open("makeGameType.html?leagueTitle="+jsonResponse[0].title+"&leagueID="+jsonResponse[0].competition_id);
          //정상 여부 확인 필요 할듯
        } else {
          alert(xhttp.responseText);
        }
      }
  
  }

</script>



</head>
<body id="top">
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- Top Background Image Wrapper -->

    <header id="header" class="hoc clear"> 
      <!-- ################################################################################################ -->
      <div id="logo" class="fl_left">
        <h1><a href="index.html">TABLE TENNIS</a></h1>
        <p>LEAGUE MANAGER</p>
      </div>
      <div id="quickinfo" class="fl_right">
        <ul class="nospace inline">
          <li><strong>Phone:</strong><br>
            +82 (010) 1234 5678</li>
          <li><strong>E-mail:</strong><br>
            indal@kaist.ac.kr</li>
        </ul>
      </div>
      <!-- ################################################################################################ -->
    </header>
    <nav id="mainav" class="hoc clear"> 
      <!-- ################################################################################################ -->
      <ul class="clear">
        <li><a href="index.html">Home</a></li>
        <li class="active"><a href="#">MAKE LEAGUE</a></li>
        <li><a href="makeGameType.html">MAKE GAME EVENTS</a></li>
        <li><a href="joinleague.html">JOIN LEAGUE</a></li>
        <li><a href="leagueView.html">GAME TABLE</a></li>
      </ul>
      <!-- ################################################################################################ -->
    </nav>

<div class="bgded" style="background-image:url('images/demo/backgrounds/01.png');"> 
  <!-- ################################################################################################ -->
  <!-- ################################################################################################ -->
  <!-- ################################################################################################ -->
  <div class="wrapper row1">
  <footer id="footer" class="hoc clear"> 
    <!-- ################################################################################################ -->
      
      <form name="competitonFrm">
        <fieldset>
          <legend>Newsletter:</legend>
          <input id="Title" class="btmspace-15" type="text" value="" placeholder="Title">
          <input id="Phone" class="btmspace-15" type="text" value="" placeholder="Phone">
          <input id="password" class="btmspace-15" type="text" value="" placeholder="password">
          <input id="StartDate" class="btmspace-15" type="datetime-local" value="" placeholder="StartDate" >
          <input id="EndDate" class="btmspace-15" type="datetime-local" value="" placeholder="EndDate">
          <input id="Place" class="btmspace-15" type="text" value="" placeholder="Place">
          </fieldset>
          <input type="submit" value="등록하기" style="cursor:pointer" onclick="saveCompetition()"></input>
          
      </form>
      
    
    <!-- ################################################################################################ -->
  </footer>
</div></div>
 
 <div id="game_add_set" style="display:none">
    
    <input class="btmspace-15" type="text" value="" placeholder="Game Title">
    <input class="btmspace-15" type="text" value="" placeholder="Max Grade">
    <input class="btmspace-15" type="text" value="" placeholder="Min Grade">
    <input class="btmspace-15" type="text" value="" placeholder="Type (M, F, MF)" data-toggle="dropdown">
    <input class="btmspace-15" type="text" value="" placeholder="rule_of_league">
    <!-- <input type="submit" value="delete Game" style="cursor:pointer" onclick="remove_item(this)"></input> -->
</div>
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<a id="backtotop" href="#top"><i class="fa fa-chevron-up"></i></a>
<!-- JAVASCRIPTS -->
<script type="text/javascript">
document.getElementById('StartDate').valueAsDate = new Date();
document.getElementById('EndDate').valueAsDate = new Date();

</script>
<script src="layout/scripts/jquery.min.js"></script>
<script src="layout/scripts/jquery.backtotop.js"></script>
<script src="layout/scripts/jquery.mobilemenu.js"></script>
</body>
</html>